<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.network">

    <select id="queryNetworkInfo" resultType="com.ctd.bank.business.model.DevnetworkInfo" parameterType="com.ctd.bank.business.model.DevnetworkInfo">
        select t.region_id as bank_code,t.region_name as band_name,t.name as network_name,t.bh as network_code,t.address as address,t.mobile as telephone
        from TB_DEVICE_NETWORK t
        where t.id
        in (select td.network_id from TB_DEVICE_INFO td where td.is_install='1')
    </select>

    <select id="queryBankList" resultType="map" parameterType="map">
        select distinct(t.region_id) as code,t.region_name as name from TB_DEVICE_NETWORK t
    </select>

    <!-- 通过设备编号查询银行网点信息 -->
    <select id="queryBankBydevId" resultType="com.ctd.bank.business.model.DevnetworkInfo" parameterType="com.ctd.bank.business.model.DevnetworkInfo">
        select n.id, n.region_id as bank_code,n.region_name as bank_name,n.name as network_name,n.bh as network_code,n.address as address,n.mobile as telephone,n.BYZD1 ,n.BYZD2  from TB_DEVICE_INFO i
        left join TB_DEVICE_NETWORK n on n.id = i.NETWORK_ID  where i.id = #{devId}
    </select>
</mapper>